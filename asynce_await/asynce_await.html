<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>async await</title>
</head>

<body>


    <script>
        const paymentSuccess = true;
            const marks = 80;
            function enroll() {
                console.log('course enrollment is in progress');
                const promise = new Promise((resolve, reject) => {
                    setTimeout(function () {
                        if (paymentSuccess) {
                            resolve('course successfully enroll');
                        } else {
                            reject('payment failed!!!');
                        }
                    }, 2000);
                });
                return promise;
            }

            function progress() {
                console.log('Course on progress');
                const promise = new Promise((resolve, reject) => {
                    setTimeout(function () {
                        if (marks >= 80) {
                            resolve();
                        } else {
                            reject("you could not get enough get certificated");
                        }
                    }, 3000);
                })

            }

            function getCertificate() {
                console.log('preparing your certificate');

                const promise = new Promise((resolve) => {
                    setTimeout(function () {
                        resolve('Congrats! your certificate!');
                    }, 3000);
                });
                return promise;
            }
        
           async function course() {
               try{
                 await enroll();
                   await progress();
                   let message = await getCertificate();
                   console.log(message);
               }catch(err){
                console.log(err);
               }  
            }
            course();
            // enroll()
            //     .then(progress())
            //     .then(getCertificate())
            //     .then((value) => {
            //         console.log(value);
            //     })
            //     .catch(error => {
            //         console.log(error);
            //     })
    </script>
</body>

</html>